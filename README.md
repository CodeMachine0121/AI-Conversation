# AI å°è©±ç®¡ç†ç³»çµ± (Playms Homework)

ä¸€å€‹åŸºæ–¼ Django REST Framework çš„æ™ºèƒ½å°è©±ç®¡ç†å¹³å°ï¼Œæä¾›ç”¨æˆ¶èˆ‡ AI çš„äº’å‹•åŠŸèƒ½ï¼Œä¸¦åŒ…å«å®Œæ•´çš„ç®¡ç†ç›£æ§ä»‹é¢ã€‚

[![Built with Cookiecutter Django](https://img.shields.io/badge/built%20with-Cookiecutter%20Django-ff69b4.svg?logo=cookiecutter)](https://github.com/cookiecutter/cookiecutter-django/)
[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/ruff/main/assets/badge/v2.json)](https://github.com/astral-sh/ruff)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## ğŸ“– ç›®éŒ„

- [å°ˆæ¡ˆæ¦‚è¿°](#å°ˆæ¡ˆæ¦‚è¿°)
- [ä¸»è¦åŠŸèƒ½](#ä¸»è¦åŠŸèƒ½)
- [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)
- [æ–‡æª”å°è¦½](#æ–‡æª”å°è¦½)
- [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
- [é–‹ç™¼æŒ‡å—](#é–‹ç™¼æŒ‡å—)
- [éƒ¨ç½²èªªæ˜](#éƒ¨ç½²èªªæ˜)
- [API ä½¿ç”¨](#api-ä½¿ç”¨)
- [æ¸¬è©¦](#æ¸¬è©¦)
- [è²¢ç»æŒ‡å—](#è²¢ç»æŒ‡å—)
- [æˆæ¬Š](#æˆæ¬Š)

## ğŸš€ å°ˆæ¡ˆæ¦‚è¿°

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹ç¾ä»£åŒ–çš„ AI å°è©±ç®¡ç†ç³»çµ±ï¼Œæ¡ç”¨ä¸‰å±¤æ¶æ§‹è¨­è¨ˆï¼Œæä¾›ï¼š

- **ç”¨æˆ¶ä»‹é¢**ï¼šç›´è§€çš„èŠå¤©ä»‹é¢ï¼Œæ”¯æ´å³æ™‚å°è©±
- **ç®¡ç†ä»‹é¢**ï¼šå®Œæ•´çš„ç³»çµ±ç›£æ§å’Œç”¨æˆ¶ç®¡ç†åŠŸèƒ½
- **API æœå‹™**ï¼šRESTful API æ”¯æ´ç¬¬ä¸‰æ–¹æ•´åˆ
- **æ™ºèƒ½å›æ‡‰**ï¼šæ•´åˆ OpenAI GPT æ¨¡å‹æä¾›æ™ºèƒ½å°è©±

### æ ¸å¿ƒåƒ¹å€¼

- ğŸ¯ **å°ˆæ¥­æ¶æ§‹**ï¼šæ¡ç”¨ä¸‰å±¤æ¶æ§‹ç¢ºä¿ä»£ç¢¼å“è³ªå’Œå¯ç¶­è­·æ€§
- ğŸ”’ **å®‰å…¨å¯é **ï¼šå®Œæ•´çš„èº«ä»½é©—è­‰å’Œæ¬Šé™æ§åˆ¶ç³»çµ±
- ğŸ“Š **ç›£æ§ç®¡ç†**ï¼šæä¾›è©³ç´°çš„ä½¿ç”¨çµ±è¨ˆå’Œç®¡ç†åŠŸèƒ½
- ğŸ”§ **æ˜“æ–¼æ“´å±•**ï¼šæ¨¡çµ„åŒ–è¨­è¨ˆæ”¯æ´åŠŸèƒ½æ“´å±•
- ğŸ“š **å®Œæ•´æ–‡æª”**ï¼šæä¾›å…¨é¢çš„é–‹ç™¼å’Œä½¿ç”¨æ–‡æª”

## âœ¨ ä¸»è¦åŠŸèƒ½

### ç”¨æˆ¶åŠŸèƒ½
- ğŸ—¨ï¸ **æ™ºèƒ½å°è©±**ï¼šèˆ‡ AI é€²è¡Œè‡ªç„¶èªè¨€å°è©±
- ğŸ“ **å°è©±ç®¡ç†**ï¼šå‰µå»ºã€é—œé–‰ã€é‡æ–°é–‹å•Ÿå°è©±
- âš™ï¸ **å€‹äººè¨­å®š**ï¼šè‡ªå®šç¾© AI æ¨¡å‹åƒæ•¸
- ğŸ” **å°è©±æœå°‹**ï¼šå¿«é€Ÿæ‰¾åˆ°æ­·å²å°è©±è¨˜éŒ„
- ğŸ“¤ **è³‡æ–™åŒ¯å‡º**ï¼šæ”¯æ´å¤šç¨®æ ¼å¼çš„å°è©±è¨˜éŒ„åŒ¯å‡º

### ç®¡ç†åŠŸèƒ½
- ğŸ‘¥ **ç”¨æˆ¶ç®¡ç†**ï¼šç›£æ§æ‰€æœ‰ç”¨æˆ¶æ´»å‹•
- ğŸ“Š **çµ±è¨ˆåˆ†æ**ï¼šè©³ç´°çš„ä½¿ç”¨çµ±è¨ˆå’Œè¶¨å‹¢åˆ†æ
- ğŸ” **æ¬Šé™æ§åˆ¶**ï¼šåŸºæ–¼è§’è‰²çš„å­˜å–æ§åˆ¶
- ğŸ“‹ **ç³»çµ±ç›£æ§**ï¼šå³æ™‚ç›£æ§ç³»çµ±ç‹€æ…‹å’Œæ•ˆèƒ½

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

æœ¬å°ˆæ¡ˆæ¡ç”¨**ä¸‰å±¤æ¶æ§‹**è¨­è¨ˆï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           è¡¨ç¾å±¤ (Presentation)          â”‚  â† API ç«¯é»ã€åºåˆ—åŒ–å™¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         æ¥­å‹™é‚è¼¯å±¤ (Business Logic)       â”‚  â† æ ¸å¿ƒæ¥­å‹™é‚è¼¯ã€æœå‹™
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         è³‡æ–™å­˜å–å±¤ (Data Access)         â”‚  â† è³‡æ–™åº«æ“ä½œã€å¤–éƒ¨ API
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“æ£§

- **å¾Œç«¯æ¡†æ¶**ï¼šDjango 4.x + Django REST Framework
- **è³‡æ–™åº«**ï¼šPostgreSQL
- **å¿«å–**ï¼šRedis
- **å‰ç«¯**ï¼šHTML5 + JavaScript + Bootstrap 5
- **AI æœå‹™**ï¼šOpenAI GPT API
- **å®¹å™¨åŒ–**ï¼šDocker + Docker Compose
- **æ¸¬è©¦**ï¼špytest + coverage

## ğŸ“š æ–‡æª”å°è¦½

æœ¬å°ˆæ¡ˆæä¾›å®Œæ•´çš„æ–‡æª”ç³»çµ±ï¼Œæ¶µè“‹é–‹ç™¼ã€éƒ¨ç½²ã€ä½¿ç”¨çš„å„å€‹å±¤é¢ï¼š

### ç³»çµ±è¨­è¨ˆæ–‡æª”
- ğŸ“‹ **[ç³»çµ±æ¶æ§‹æ–‡ä»¶](docs/SYSTEM_ARCHITECTURE.md)** - è©³ç´°çš„ä¸‰å±¤æ¶æ§‹è¨­è¨ˆèªªæ˜
- ğŸ”§ **[æ¶æ§‹åœ–è¡¨](docs/ARCHITECTURE_DIAGRAMS.md)** - è¦–è¦ºåŒ–çš„ç³»çµ±æ¶æ§‹å’Œè³‡æ–™æµå‘åœ–

### é–‹ç™¼æ–‡æª”
- ğŸ”Œ **[API æ–‡ä»¶](docs/API_DOCUMENTATION.md)** - å®Œæ•´çš„ RESTful API èªªæ˜
- ğŸ§ª **[æ¸¬è©¦ç”¨ä¾‹](docs/TEST_CASES.md)** - å…¨é¢çš„æ¸¬è©¦ç­–ç•¥å’Œç”¨ä¾‹

### ä½¿ç”¨æ–‡æª”
- ğŸ‘¥ **[ä½¿ç”¨èªªæ˜](docs/USER_GUIDE.md)** - è©³ç´°çš„ç”¨æˆ¶æ“ä½œæŒ‡å—
- ğŸš€ **[éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT_GUIDE.md)** - æœ¬åœ°å’Œç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²èªªæ˜

### æ¨¡çµ„èªªæ˜
- ğŸ’¬ **[å°è©±æ¨¡çµ„èªªæ˜](playms_homework/conversations/README.md)** - æ ¸å¿ƒå°è©±åŠŸèƒ½è©³è§£
- ğŸ“Š **[å¯¦ä½œç¸½çµ](playms_homework/conversations/IMPLEMENTATION_SUMMARY.md)** - é–‹ç™¼é‡é»å’Œè¨­è¨ˆæ±ºç­–

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Python 3.9+
- PostgreSQL 13+
- Redis 6+ (é¸ç”¨)
- Node.js 16+ (ç”¨æ–¼å‰ç«¯è³‡æºç·¨è­¯)

### æœ¬åœ°é–‹ç™¼è¨­ç½®

1. **è¤‡è£½å°ˆæ¡ˆ**
   ```bash
   git clone <repository-url>
   cd playms_homework
   ```

2. **å»ºç«‹è™›æ“¬ç’°å¢ƒ**
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/macOS
   # æˆ– venv\Scripts\activate  # Windows
   ```

3. **å®‰è£ä¾è³´**
   ```bash
   pip install -r requirements/local.txt
   ```

4. **ç’°å¢ƒè®Šæ•¸è¨­å®š**
   ```bash
   cp .env.example .env
   # ç·¨è¼¯ .env æª”æ¡ˆï¼Œè¨­å®šè³‡æ–™åº«å’Œ API é‡‘é‘°
   ```

5. **è³‡æ–™åº«è¨­ç½®**
   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   ```

6. **å•Ÿå‹•æœå‹™**
   ```bash
   python manage.py runserver
   ```

è¨ªå• `http://localhost:8000` é–‹å§‹ä½¿ç”¨ï¼

### Docker å¿«é€Ÿéƒ¨ç½²

```bash
# ä½¿ç”¨ Docker Compose ä¸€éµå•Ÿå‹•
docker-compose up -d

# åŸ·è¡Œè³‡æ–™åº«é·ç§»
docker-compose exec web python manage.py migrate
docker-compose exec web python manage.py createsuperuser
```

## ğŸ’» é–‹ç™¼æŒ‡å—

### å°ˆæ¡ˆçµæ§‹

```
playms_homework/
â”œâ”€â”€ config/                 # Django è¨­å®šæª”
â”œâ”€â”€ playms_homework/        # ä¸»è¦æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ conversations/      # å°è©±ç®¡ç†æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ business_logic/ # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”‚   â”œâ”€â”€ presentation/   # è¡¨ç¾å±¤ (API)
â”‚   â”‚   â”œâ”€â”€ repositories/   # è³‡æ–™å­˜å–å±¤
â”‚   â”‚   â””â”€â”€ models/         # è³‡æ–™æ¨¡å‹
â”‚   â”œâ”€â”€ users/             # ç”¨æˆ¶ç®¡ç†æ¨¡çµ„
â”‚   â””â”€â”€ static/            # éœæ…‹æª”æ¡ˆ
â”œâ”€â”€ docs/                  # å°ˆæ¡ˆæ–‡æª”
â”œâ”€â”€ requirements/          # ä¾è³´å¥—ä»¶
â””â”€â”€ utility/              # å·¥å…·è…³æœ¬
```

### é–‹ç™¼å‘½ä»¤

```bash
# åŸ·è¡Œæ¸¬è©¦
pytest

# æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ª
mypy playms_homework
ruff check .

# æ¸¬è©¦è¦†è“‹ç‡
coverage run -m pytest
coverage html

# å»ºç«‹æ–°çš„è³‡æ–™åº«é·ç§»
python manage.py makemigrations

# æ”¶é›†éœæ…‹æª”æ¡ˆ
python manage.py collectstatic
```

## ğŸŒ éƒ¨ç½²èªªæ˜

è©³ç´°çš„éƒ¨ç½²æŒ‡å—è«‹åƒè€ƒï¼š**[éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT_GUIDE.md)**

### æ”¯æ´çš„éƒ¨ç½²æ–¹å¼

- **æœ¬åœ°é–‹ç™¼**ï¼šDjango é–‹ç™¼ä¼ºæœå™¨
- **ç”Ÿç”¢ç’°å¢ƒ**ï¼šNginx + Gunicorn + PostgreSQL
- **å®¹å™¨åŒ–**ï¼šDocker + Docker Compose
- **é›²ç«¯éƒ¨ç½²**ï¼šæ”¯æ´å„å¤§é›²ç«¯å¹³å°

### å¿«é€Ÿéƒ¨ç½²æª¢æŸ¥æ¸…å–®

- [ ] è¨­å®šç’°å¢ƒè®Šæ•¸
- [ ] è¨­å®šè³‡æ–™åº«é€£ç·š
- [ ] è¨­å®š AI API é‡‘é‘°
- [ ] åŸ·è¡Œè³‡æ–™åº«é·ç§»
- [ ] æ”¶é›†éœæ…‹æª”æ¡ˆ
- [ ] è¨­å®š Web ä¼ºæœå™¨
- [ ] è¨­å®š SSL æ†‘è­‰

## ğŸ”Œ API ä½¿ç”¨

æœ¬å°ˆæ¡ˆæä¾›å®Œæ•´çš„ RESTful APIï¼Œè©³ç´°èªªæ˜è«‹åƒè€ƒï¼š**[API æ–‡ä»¶](docs/API_DOCUMENTATION.md)**

### ä¸»è¦ç«¯é»

```bash
# å°è©±ç®¡ç†
GET    /api/conversations/              # ç²å–å°è©±åˆ—è¡¨
POST   /api/conversations/              # å‰µå»ºæ–°å°è©±
POST   /api/conversations/{id}/send_message/  # ç™¼é€è¨Šæ¯

# ç®¡ç†å“¡ API
GET    /api/admin/conversations/        # ç²å–æ‰€æœ‰å°è©± (ç®¡ç†å“¡)
GET    /api/admin/users/               # ç²å–ç”¨æˆ¶åˆ—è¡¨ (ç®¡ç†å“¡)
```

### API ä½¿ç”¨ç¯„ä¾‹

```javascript
// JavaScript ç¯„ä¾‹
const response = await fetch('/api/conversations/', {
    headers: {
        'Authorization': 'Token your-token-here',
        'Content-Type': 'application/json'
    }
});
const conversations = await response.json();
```

## ğŸ§ª æ¸¬è©¦

å®Œæ•´çš„æ¸¬è©¦ç­–ç•¥è«‹åƒè€ƒï¼š**[æ¸¬è©¦ç”¨ä¾‹](docs/TEST_CASES.md)**

### æ¸¬è©¦è¦†è“‹ç¯„åœ

- âœ… å–®å…ƒæ¸¬è©¦ï¼šæ¨¡å‹ã€æœå‹™ã€æ¥­å‹™é‚è¼¯
- âœ… æ•´åˆæ¸¬è©¦ï¼šAPI ç«¯é»å’Œè³‡æ–™æµ
- âœ… æ¬Šé™æ¸¬è©¦ï¼šèº«ä»½é©—è­‰å’Œæˆæ¬Š
- âœ… æ•ˆèƒ½æ¸¬è©¦ï¼šè² è¼‰å’Œå›æ‡‰æ™‚é–“

### åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
pytest

# åŸ·è¡Œç‰¹å®šæ¨¡çµ„æ¸¬è©¦
pytest playms_homework/conversations/tests/

# ç”Ÿæˆæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
coverage run -m pytest
coverage report
coverage html  # ç”¢ç”Ÿ HTML å ±å‘Š
```

## ğŸ¤ è²¢ç»æŒ‡å—

æˆ‘å€‘æ­¡è¿å„ç¨®å½¢å¼çš„è²¢ç»ï¼

### å¦‚ä½•è²¢ç»

1. **Fork** æœ¬å°ˆæ¡ˆ
2. **å»ºç«‹åŠŸèƒ½åˆ†æ”¯** (`git checkout -b feature/amazing-feature`)
3. **æäº¤è®Šæ›´** (`git commit -m 'Add some amazing feature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/amazing-feature`)
5. **é–‹å•Ÿ Pull Request**

### é–‹ç™¼è¦ç¯„

- éµå¾ª PEP 8 Python ç·¨ç¢¼è¦ç¯„
- ç·¨å¯«å–®å…ƒæ¸¬è©¦è¦†è“‹æ–°åŠŸèƒ½
- æ›´æ–°ç›¸é—œæ–‡æª”
- æäº¤è¨Šæ¯ä½¿ç”¨ä¸­æ–‡æˆ–è‹±æ–‡ï¼Œæè¿°æ¸…æ¥š

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ“ æ”¯æ´èˆ‡è¯ç¹«

- **æŠ€è¡“æ–‡æª”**ï¼šæŸ¥çœ‹ [docs/](docs/) ç›®éŒ„ä¸‹çš„è©³ç´°æ–‡æª”
- **å•é¡Œå›å ±**ï¼šä½¿ç”¨ GitHub Issues
- **åŠŸèƒ½å»ºè­°**ï¼šæ­¡è¿æäº¤ Pull Request

---

## ğŸ”— ç›¸é—œé€£çµ

- [Django å®˜æ–¹æ–‡æª”](https://docs.djangoproject.com/)
- [Django REST Framework](https://www.django-rest-framework.org/)
- [OpenAI API æ–‡æª”](https://platform.openai.com/docs)
- [PostgreSQL æ–‡æª”](https://www.postgresql.org/docs/)

**æ„Ÿè¬ä½¿ç”¨ AI å°è©±ç®¡ç†ç³»çµ±ï¼** ğŸš€
